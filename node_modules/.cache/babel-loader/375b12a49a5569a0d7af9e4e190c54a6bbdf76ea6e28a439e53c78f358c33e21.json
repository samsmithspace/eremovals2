{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Runze Xia\\\\Desktop\\\\eremovals2\\\\src\\\\common\\\\components\\\\ui\\\\Modal.js\",\n  _s = $RefreshSig$();\n// src/common/components/ui/Modal.js\nimport React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\n/**\r\n * Modal component with backdrop, keyboard handling, and focus management\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'md',\n  closeOnBackdrop = true,\n  closeOnEscape = true,\n  showCloseButton = true,\n  className = '',\n  ...props\n}) => {\n  _s();\n  const modalRef = useRef(null);\n  const previousFocus = useRef(null);\n\n  // Focus management\n  useEffect(() => {\n    if (isOpen) {\n      // Store previously focused element\n      previousFocus.current = document.activeElement;\n\n      // Focus the modal\n      if (modalRef.current) {\n        modalRef.current.focus();\n      }\n\n      // Prevent body scroll\n      document.body.style.overflow = 'hidden';\n    } else {\n      // Restore body scroll\n      document.body.style.overflow = '';\n\n      // Restore focus to previous element\n      if (previousFocus.current) {\n        previousFocus.current.focus();\n      }\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  // Keyboard handling\n  useEffect(() => {\n    const handleEscape = e => {\n      if (e.key === 'Escape' && closeOnEscape && isOpen) {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, closeOnEscape, onClose]);\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget && closeOnBackdrop) {\n      onClose();\n    }\n  };\n  const sizeClasses = {\n    sm: 'modal-sm',\n    md: 'modal-md',\n    lg: 'modal-lg',\n    xl: 'modal-xl'\n  };\n  if (!isOpen) return null;\n  const modalContent = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    onClick: handleBackdropClick,\n    ...props,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: modalRef,\n      className: `modal-dialog ${sizeClasses[size] || sizeClasses.md} ${className}`,\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      \"aria-labelledby\": title ? 'modal-title' : undefined,\n      tabIndex: -1,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [(title || showCloseButton) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [title && /*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"modal-title\",\n            className: \"modal-title\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), showCloseButton && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"modal-close\",\n            onClick: onClose,\n            \"aria-label\": \"Close modal\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n\n  // Render modal in a portal to avoid z-index issues\n  return /*#__PURE__*/createPortal(modalContent, document.body);\n};\n_s(Modal, \"fnwXb17NzffZh3yHXgJq2aHlZ4c=\");\n_c = Modal;\nModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  title: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  size: PropTypes.oneOf(['sm', 'md', 'lg', 'xl']),\n  closeOnBackdrop: PropTypes.bool,\n  closeOnEscape: PropTypes.bool,\n  showCloseButton: PropTypes.bool,\n  className: PropTypes.string\n};\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useEffect","useRef","createPortal","PropTypes","jsxDEV","_jsxDEV","Modal","isOpen","onClose","title","children","size","closeOnBackdrop","closeOnEscape","showCloseButton","className","props","_s","modalRef","previousFocus","current","document","activeElement","focus","body","style","overflow","handleEscape","e","key","addEventListener","removeEventListener","handleBackdropClick","target","currentTarget","sizeClasses","sm","md","lg","xl","modalContent","onClick","ref","role","undefined","tabIndex","id","fileName","_jsxFileName","lineNumber","columnNumber","type","_c","propTypes","bool","isRequired","func","string","node","oneOf","$RefreshReg$"],"sources":["C:/Users/Runze Xia/Desktop/eremovals2/src/common/components/ui/Modal.js"],"sourcesContent":["// src/common/components/ui/Modal.js\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Modal component with backdrop, keyboard handling, and focus management\r\n */\r\nconst Modal = ({\r\n                 isOpen,\r\n                 onClose,\r\n                 title,\r\n                 children,\r\n                 size = 'md',\r\n                 closeOnBackdrop = true,\r\n                 closeOnEscape = true,\r\n                 showCloseButton = true,\r\n                 className = '',\r\n                 ...props\r\n               }) => {\r\n  const modalRef = useRef(null);\r\n  const previousFocus = useRef(null);\r\n\r\n  // Focus management\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Store previously focused element\r\n      previousFocus.current = document.activeElement;\r\n\r\n      // Focus the modal\r\n      if (modalRef.current) {\r\n        modalRef.current.focus();\r\n      }\r\n\r\n      // Prevent body scroll\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      // Restore body scroll\r\n      document.body.style.overflow = '';\r\n\r\n      // Restore focus to previous element\r\n      if (previousFocus.current) {\r\n        previousFocus.current.focus();\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Keyboard handling\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && closeOnEscape && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleEscape);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [isOpen, closeOnEscape, onClose]);\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget && closeOnBackdrop) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const sizeClasses = {\r\n    sm: 'modal-sm',\r\n    md: 'modal-md',\r\n    lg: 'modal-lg',\r\n    xl: 'modal-xl'\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const modalContent = (\r\n    <div\r\n      className=\"modal-backdrop\"\r\n      onClick={handleBackdropClick}\r\n      {...props}\r\n    >\r\n      <div\r\n        ref={modalRef}\r\n        className={`modal-dialog ${sizeClasses[size] || sizeClasses.md} ${className}`}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby={title ? 'modal-title' : undefined}\r\n        tabIndex={-1}\r\n      >\r\n        <div className=\"modal-content\">\r\n          {(title || showCloseButton) && (\r\n            <div className=\"modal-header\">\r\n              {title && (\r\n                <h3 id=\"modal-title\" className=\"modal-title\">\r\n                  {title}\r\n                </h3>\r\n              )}\r\n              {showCloseButton && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"modal-close\"\r\n                  onClick={onClose}\r\n                  aria-label=\"Close modal\"\r\n                >\r\n                  Ã—\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n          <div className=\"modal-body\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Render modal in a portal to avoid z-index issues\r\n  return createPortal(modalContent, document.body);\r\n};\r\n\r\nModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n  size: PropTypes.oneOf(['sm', 'md', 'lg', 'xl']),\r\n  closeOnBackdrop: PropTypes.bool,\r\n  closeOnEscape: PropTypes.bool,\r\n  showCloseButton: PropTypes.bool,\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default Modal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}